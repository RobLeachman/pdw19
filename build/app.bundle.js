webpackJsonp([0],{1455:function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();t.SimpleScene=function(e){function t(){return a(this,t),console.log("constructed simple"),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"SimpleScene"))}return r(t,e),s(t,[{key:"preload",value:function(){}},{key:"create",value:function(){this.cameras.main.setZoom(1.55),this.cameras.main.setScroll(-200,-95),this.add.image(0,0,"road").setOrigin(0,0)}}]),t}(Phaser.Scene)},1456:function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}();t.BootGame=function(e){function t(){return a(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"BootGame"))}return r(t,e),s(t,[{key:"preload",value:function(){this.load.image("road","assets/graphics/road3.png"),this.load.spritesheet("man","assets/graphics/aMan.png",{frameWidth:40,frameHeight:40}),this.load.spritesheet("generated","assets/graphics/newGenerating.png",{frameWidth:80,frameHeight:50}),this.load.spritesheet("gauges","assets/graphics/newGas.png",{frameWidth:60,frameHeight:5}),this.load.spritesheet("manWithThing","assets/graphics/manWithThing.png",{frameWidth:40,frameHeight:40}),this.load.spritesheet("base","assets/graphics/base.png",{frameWidth:90,frameHeight:90}),this.load.spritesheet("fuelStore","assets/graphics/fuelStore1C.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("botFactoryPad","assets/graphics/botFactoryPad.png",{frameWidth:90,frameHeight:90}),this.load.spritesheet("botFactory","assets/graphics/botFactory.png",{frameWidth:90,frameHeight:90}),this.load.spritesheet("gasFactoryPad","assets/graphics/gasFactoryPad.png",{frameWidth:90,frameHeight:90}),this.load.spritesheet("gasFactory","assets/graphics/gasFactory.png",{frameWidth:90,frameHeight:90}),this.load.spritesheet("generator","assets/graphics/generator0.png",{frameWidth:90,frameHeight:90}),this.load.spritesheet("pad","assets/graphics/pad1.png",{frameWidth:90,frameHeight:90})}},{key:"create",value:function(){this.scene.start("PlayGame")}}]),t}(Phaser.Scene)},1457:function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,i){this.spot=i,this.sprite=e.add.sprite(c(i),u(i),t,0).setOrigin(0,0),this.interact=function(t){this.built||t.carrying==w&&(this.sprite=e.add.sprite(c(i),u(i),"botFactory",0).setOrigin(0,0),t.sprite.setFrame(0),t.carrying=b,this.built=!0)}}function h(e,t,i){this.spot=i,this.sprite=e.add.sprite(c(i),u(i),t,0).setOrigin(0,0),this.interact=function(t){this.built||t.carrying==w&&(this.sprite=e.add.sprite(c(i),u(i),"gasFactory",0).setOrigin(0,0),t.sprite.setFrame(0),t.carrying=b,this.built=!0)}}function c(e){var t=0;return 0!=e&&3!=e&&6!=e||(t=10),1!=e&&4!=e&&7!=e||(t=140),2!=e&&5!=e&&8!=e||(t=270),t}function u(e){var t=0;return 0!=e&&1!=e&&2!=e||(t=10),3!=e&&4!=e&&5!=e||(t=140),6!=e&&7!=e&&8!=e||(t=270),t}function f(e){try{return e.x<0||e.y<0?null:v[e.y][e.x][0]<0?null:v[e.y][e.x][1]<0?null:new Phaser.Geom.Point(v[e.y][e.x][0],v[e.y][e.x][1])}catch(e){return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.PlayGame=void 0;var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),p=i(1458),m=a(p),g=i(1459),y=a(g),d={difficulty:0,testing:1,swipeMaxTime:1e3,swipeMinDistance:20,swipeMinNormal:.85},v=[[[35,100,0],[100,100],[165,100,1],[230,100],[295,100,2],[360,100]],[[35,230,3],[100,230],[165,230,4],[230,230],[295,230,5],[360,230]],[[35,360,6],[100,360],[165,360,7],[230,360],[295,360,8],[360,360]],[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[360,540],[425,540,10],[545,540,11],[665,540,12]]],b=0,w=1,S=[],O=!1,P=!0;t.PlayGame=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"PlayGame"))}return s(t,e),l(t,[{key:"create",value:function(){this.cameras.main.setZoom(1.55),this.cameras.main.setScroll(-200,-95),this.add.image(0,0,"road").setOrigin(0,0);for(var e=0;e<9;e++)if(0==e){var t=new o(this,"botFactoryPad",e);S.push(t)}else if(4==e){var i=new m.default(this,"base",e,"fuelStore");S.push(i)}else if(8==e){var a=new h(this,"gasFactoryPad",e);S.push(a)}else{var n=new y.default(this,"pad",e);S.push(n)}this.man={location:new Phaser.Geom.Point(2,1),spot:4,moving:!1,moveBuffer:-1,carrying:b};var r=f(this.man.location);this.man.sprite=this.add.sprite(r.x,r.y,"man",0).setOrigin(0,0),this.input.keyboard.on("keyup",this.handleKey,this),this.input.on("pointerup",this.handleSwipe,this)}},{key:"update",value:function(){try{if(!this.man.moving&&this.man.moveBuffer>-1){if(4==this.man.moveBuffer){var e=v[this.man.location.y][this.man.location.x][2];void 0!==e&&S[e].interact(this.man)}else this.makeMove(this.man.moveBuffer);this.man.moveBuffer=-1}}catch(e){if(O)throw"the wheels, they have come off the wagon again";console.log("ERROR "+e),console.log("STACK "+e.stack),O=!0;var t=this.add.graphics();t.fillStyle(255,1);var i=new Phaser.Geom.Rectangle(0,0,800,600);t.fillRectShape(i),this.add.text(0,40,e,{font:"18px Courier"}),this.add.text(0,70,"RATFARTS",{font:"18px Courier"}),this.add.text(0,100,e.stack,{font:"18px Courier"})}}},{key:"handleKey",value:function(e){switch(e.code){case"KeyA":case"ArrowLeft":this.man.moveBuffer=0;break;case"KeyD":case"ArrowRight":this.man.moveBuffer=1;break;case"KeyW":case"ArrowUp":this.man.moveBuffer=2;break;case"KeyS":case"ArrowDown":this.man.moveBuffer=3;break;case"Space":this.man.moveBuffer=4}}},{key:"handleSwipe",value:function(e){var t=e.upTime-e.downTime,i=t<d.swipeMaxTime,a=new Phaser.Geom.Point(e.upX-e.downX,e.upY-e.downY);Phaser.Geom.Point.GetMagnitude(a)>d.swipeMinDistance&&i?(Phaser.Geom.Point.SetMagnitude(a,1),a.x>d.swipeMinNormal&&(this.man.moveBuffer=1),a.x<-d.swipeMinNormal&&(this.man.moveBuffer=0),a.y>d.swipeMinNormal&&(this.man.moveBuffer=3),a.y<-d.swipeMinNormal&&(this.man.moveBuffer=2)):this.man.moveBuffer=4}},{key:"makeMove",value:function(e){var t=this.man.location.x,i=this.man.location.y,a=v[this.man.location.y][this.man.location.x][2];switch(e){case 0:this.man.location.x--;break;case 1:this.man.location.x++;break;case 2:this.man.location.y--,a>-1&&(this.man.location.y=-1);break;case 3:if(this.man.location.y++,P&&this.man.location.y>2){P=!1;var n=this.cameras.main;n.pan(400,300,400,"Linear"),n.zoomTo(1,400)}a>-1&&(this.man.location.y=-1)}if(f(this.man.location)){var r=f(this.man.location);this.man.moving=!0,this.tweens.add({targets:[this.man.sprite],duration:300,x:r.x,y:r.y,callbackScope:this,onComplete:function(){this.man.moving=!1}})}else this.man.location.x=t,this.man.location.y=i}}]),t}(Phaser.Scene)},1458:function(e,t,i){"use strict";function a(e,t,i,a){this.spot=i,this.sprite=e.add.sprite((0,n.getLocationX)(i),(0,n.getLocationY)(i),t,0).setOrigin(0,0),this.fuelStoreSprite=a,this.fuelBay=[10,10,10],this.fuelSprite=[],this.fuelSprite[1]=e.add.sprite(146,175,this.fuelStoreSprite,this.fuelBay[1]).setOrigin(0,0),this.fuelSprite[0]=e.add.sprite(173,175,this.fuelStoreSprite,this.fuelBay[0]).setOrigin(0,0),this.fuelSprite[2]=e.add.sprite(200,175,this.fuelStoreSprite,this.fuelBay[2]).setOrigin(0,0),this.interact=function(e){e.carrying==r?this.takeStuff()&&(e.sprite.setFrame(1),e.carrying=s):e.carrying==s&&this.stashStuff()&&(e.sprite.setFrame(0),e.carrying=r)},this.takeStuff=function(){for(var e=0;e<3;e++)if(this.fuelBay[e]>0)return this.fuelBay[e]=0,this.repaint(),!0;return!1},this.stashStuff=function(){for(var e=0;e<3;e++)if(0==this.fuelBay[e])return this.fuelBay[e]=10,this.repaint(),!0;return!1},this.repaint=function(){this.fuelSprite[0].setFrame(this.fuelBay[0]),this.fuelSprite[1].setFrame(this.fuelBay[1]),this.fuelSprite[2].setFrame(this.fuelBay[2])}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=i(533),r=0,s=1},1459:function(e,t,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}}(),r=i(533),s=0,o=function(){function e(t,i,n){a(this,e),this.game=t,this.spriteName=i,this.sprite=t.add.sprite((0,r.getLocationX)(n),(0,r.getLocationY)(n),i,0).setOrigin(0,0),this.spot=n,this.state=s,this.fuel=0,this.fakeForAnim=this.game.add.sprite(-1e3,-1e3,"fakeForAnim",0).setOrigin(0,0),this.game.anims.create({key:"fakeStuff",frames:this.game.anims.generateFrameNames("fakeForAnim",{start:0,end:10}),frameRate:12,repeat:0})}return n(e,[{key:"interact",value:function(e){this.state==s?1==e.carrying&&(this.sprite=this.game.add.sprite((0,r.getLocationX)(this.spot),(0,r.getLocationY)(this.spot),"generator",0).setOrigin(0,0),e.sprite.setFrame(0),e.carrying=0,this.state=1,this.regenerate(!0)):2==this.state&&0==e.carrying&&(e.carrying=1,e.sprite.setFrame(1),this.genSprite.alpha=0,this.regenerate(!1))}},{key:"regenerate",value:function(e){e?(this.genSprite=this.game.add.sprite((0,r.getLocationX)(this.spot)+5,(0,r.getLocationY)(this.spot)+15,"generated",0).setOrigin(0,0),this.game.anims.create({key:"generateStuff",frames:this.game.anims.generateFrameNames("generated",{start:0,end:10}),frameRate:12,repeat:0}),this.makeStuff(),this.guage=this.game.add.sprite((0,r.getLocationX)(this.spot)+15,(0,r.getLocationY)(this.spot)+10,"gauges",this.fuel).setOrigin(0,0)):this.fuel<3&&(this.fuel++,this.guage=this.game.add.sprite((0,r.getLocationX)(this.spot)+15,(0,r.getLocationY)(this.spot)+10,"gauges",this.fuel).setOrigin(0,0),this.fuel<3&&this.makeStuff())}},{key:"makeStuff",value:function(){this.genSprite.alpha=1,this.genSprite.play("generateStuff"),this.genSprite.on("animationcomplete",function(){this.state=2},this)}}]),e}();t.default=o},533:function(e,t,i){"use strict";function a(e){var t=0;return 0!=e&&3!=e&&6!=e||(t=10),1!=e&&4!=e&&7!=e||(t=140),2!=e&&5!=e&&8!=e||(t=270),t}function n(e){var t=0;return 0!=e&&1!=e&&2!=e||(t=10),3!=e&&4!=e&&5!=e||(t=140),6!=e&&7!=e&&8!=e||(t=270),t}function r(e){try{return e.x<0||e.y<0?null:map[e.y][e.x][0]<0?null:map[e.y][e.x][1]<0?null:new Phaser.Geom.Point(map[e.y][e.x][0],map[e.y][e.x][1])}catch(e){return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocationX=a,t.getLocationY=n,t.getMapCoords=r},534:function(e,t,i){"use strict";function a(){var e=document.querySelector("canvas"),t=window.innerWidth,i=window.innerHeight,a=t/i,n=o.config.width/o.config.height;a<n?(e.style.width=t+"px",e.style.height=t/n+"px"):(e.style.width=i*n+"px",e.style.height=i+"px")}i(257);var n=(i(1455),i(1456)),r=i(1457),s={width:800,height:600,backgroundColor:0,pixelArt:!0,scene:[n.BootGame,r.PlayGame]},o=new Phaser.Game(s);window.onload=function(){window.focus(),a(),window.addEventListener("resize",a)}}},[534]);